!function(e){var t={};function r(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t){e.exports=class{constructor(){this.grid=[[" "," "," "],[" "," "," "],[" "," "," "]],this.current_turn=0}rotatedGrid(){let e=[];for(let t=0;t<this.grid.length;t++){let r=[];for(let e=this.grid.length-1;e>=0;e--)r.push(this.grid[e][t]);e.push(r)}return e}checkGrid(e){let t=[];for(let r=0;r<e.length;r++){t.push(e[r][r]);let n=[];for(let t=0;t<e.length;t++)n.push(e[r][t]);if(n.every(e=>e===n[0]&&" "!=e))return n[0]}return t.every(e=>e===t[0]&&" "!=e)?t[0]:9===this.current_turn?"draw":null}winner(){let e=this.checkGrid(this.grid);return null!==e&&"draw"!==e||(e=this.checkGrid(this.rotatedGrid())),e}currentMark(){return this.current_turn%2==0?"X":"O"}placeMark(e){this.grid[e[0]][e[1]]=this.currentMark(),this.current_turn++}isValidMove(e,t){return 0!=Number.isInteger(parseInt(e))&&0!=Number.isInteger(parseInt(t))&&!(e>2||e<0||t>2||t<0||" "!=this.grid[e][t])}}},function(e,t,r){const n=r(2);$(()=>{new n($(".ttt"))})},function(e,t,r){const n=r(3);e.exports=class{constructor(e){this.game=new n,this.$ttt=e,this.comp=!0,this.setupBoard(),this.bindEvents()}bindEvents(){$(".grid").on("click",".cell",e=>{$(e.target).append(`<strong class="mark">${this.game.board.currentMark()}</strong>`),this.makeMove(e.target),$(e.target).addClass("noHover")})}makeMove(e){const t=$(e);let r=parseInt(t.attr("data-pos")[0]),n=parseInt(t.attr("data-pos")[2]);this.game.board.placeMark(`${r}${n}`);let s=this.game.board.winner();null!==s&&this.endGame(s),!0===this.comp&&this.game.board.current_turn%2!=0&&null===s&&this.makeCompMove()}makeCompMove(){let e=this.game.comp.takeTurn(),t=parseInt(e[0]),r=parseInt(e[1]);$(`.cell[data-pos='${t},${r}']`).trigger("click")}endGame(e){$(".grid").off("click",".cell"),$(".cell").addClass("noHover"),this.displayReplayButton(),this.displayWinner(e),$("h1").addClass("faded"),$(".grid").addClass("faded")}setupBoard(){this.$ttt.append('<ul class="grid"></ul>');for(let e=0;e<9;e++)$(".grid").append("<li class='cell'></li>");let e=0;$(".cell").each((t,r)=>{$(r).attr("data-pos",[e,t%3]),t%3==2&&e++})}displayReplayButton(){$("body").prepend("<div class='replay-container'><strong class='replay'>â†»</strong></div>"),$(".replay").click(e=>{this.resetBoard()})}resetBoard(){this.game=new n,this.$ttt=$(".ttt"),$(".grid").remove(),$(".replay-container").remove(),$(".replay").remove(),$(".winner").remove(),this.setupBoard(),this.bindEvents(),$("h1").removeClass("faded")}displayWinner(e){"draw"!==e?$("body").prepend("<strong class='winner hidden'> wins!</strong>"):$("body").prepend("<strong class='winner hidden'></strong>"),$(".winner").prepend(e),$(".winner").addClass("banner"),$(".winner").removeClass("hidden")}}},function(e,t,r){const n=r(0),s=(r(4),r(5));e.exports=class{constructor(){this.board=new n,this.comp=new s(this.board,3)}}},function(e,t){e.exports=class{takeTurn(e,t){return new Promise((r,n)=>{t.question(`Enter move for ${e.currentMark()}\n>> `,t=>{e.isValidMove(t[0],t[1])?r(t):n("Invalid Move")})})}}},function(e,t,r){const n=r(0);e.exports=class{constructor(e,t){this.board=e,this.level=t}takeTurn(){let e,t=this.getMoves(this.board);if(e=t[Math.floor(Math.random()*t.length)],2===this.level)for(let r=0;r<t.length;r++){let n=this.dupBoard(board);n.placeMark(t[r]),"O"===n.winner()&&(e=t[r])}return 3===this.level&&(e=this.getImpossible(this.board,!0)),e}getMoves(e){let t=[];return e.grid.forEach((r,n)=>{r.forEach((r,s)=>{" "===e.grid[n][s]&&t.push(n.toString()+s.toString())})}),t}dupBoard(e){let t=new n;t.grid=[];for(let r=0;r<3;r++)t.grid.push([...e.grid[r]]);return t.current_turn=e.current_turn,t}getImpossible(e,t=!1){let r,n,s=this.getMoves(e),o={},i=[];for(let t=0;t<s.length;t++){let r=this.dupBoard(e);r.placeMark(s[t]),null!==r.winner()?("X"===r.winner()&&(o[s[t]]=-10),"O"===r.winner()&&(o[s[t]]=10),"draw"===r.winner()&&(o[s[t]]=0)):i.push(s[t])}for(let t=0;t<i.length;t++){let r=this.dupBoard(e);r.placeMark(i[t]),o[i[t]]=this.getImpossible(r)}for(let e=0;e<s.length;e++)(void 0===r||o[s[e]]>o[r])&&(r=s[e]),(void 0===n||o[s[e]]<o[n])&&(n=s[e]);let a,l=[],d=[];for(let e=0;e<s.length;e++)o[s[e]]===o[r]&&l.push(s[e]),o[s[e]]===o[n]&&d.push(s[e]);return a="O"===e.currentMark()?l[Math.floor(Math.random()*l.length)]:d[Math.floor(Math.random()*d.length)],!1===t?o[a]:a}}}]);